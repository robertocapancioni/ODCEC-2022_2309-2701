-- drop objects
drop table x03_dipendente cascade constraints;
drop table x03_cliente cascade constraints;
drop table x03_stato cascade constraints;
drop table x03_commessa cascade constraints;
drop table x03_attivita cascade constraints;

-- create tables
create table x03_dipendente (
    id                             number generated by default on null as identity 
                                   constraint x03_dipendente_id_pk primary key,
    dipendente                     varchar2(9 char)
                                   constraint x03_dipendente_dipendente_unq unique not null,
    tariffa                        number not null
)
;

create table x03_cliente (
    id                             number generated by default on null as identity 
                                   constraint x03_cliente_id_pk primary key,
    cliente                        varchar2(10 char)
                                   constraint x03_cliente_cliente_unq unique not null,
    logo                           blob,
    logo_filename                  varchar2(512 char),
    logo_mimetype                  varchar2(512 char),
    logo_charset                   varchar2(512 char),
    logo_lastupd                   date
)
;

create table x03_stato (
    id                             number generated by default on null as identity 
                                   constraint x03_stato_id_pk primary key,
    stato                          varchar2(14 char)
                                   constraint x03_stato_stato_unq unique not null,
    stato_class                    varchar2(9 char)
)
;

create table x03_commessa (
    id                             number generated by default on null as identity 
                                   constraint x03_commessa_id_pk primary key,
    commessa                       varchar2(6 char)
                                   constraint x03_commessa_commessa_unq unique
)
;

create table x03_attivita (
    id                             number generated by default on null as identity 
                                   constraint x03_attivita_id_pk primary key,
    dipendente_id                  number
                                   constraint x03_attivita_dipendente_id_fk
                                   references x03_dipendente not null,
    cliente_id                     number
                                   constraint x03_attivita_cliente_id_fk
                                   references x03_cliente not null,
    commessa_id                    number
                                   constraint x03_attivita_commessa_id_fk
                                   references x03_commessa not null,
    stato_id                       number
                                   constraint x03_attivita_stato_id_fk
                                   references x03_stato not null,
    data                           date not null,
    ore                            number not null
)
;

-- table index
create index x03_attivita_i1 on x03_attivita (cliente_id);
create index x03_attivita_i142 on x03_attivita (commessa_id);
create index x03_attivita_i153 on x03_attivita (dipendente_id);
create index x03_attivita_i164 on x03_attivita (stato_id);

-- load data
 
insert into x03_dipendente (
    id,
    dipendente,
    tariffa
) values (
    1,
    'FRANCESCA',
    200
);

insert into x03_dipendente (
    id,
    dipendente,
    tariffa
) values (
    2,
    'ANNA',
    150
);

insert into x03_dipendente (
    id,
    dipendente,
    tariffa
) values (
    3,
    'MARCO',
    100
);

commit;

alter table x03_dipendente
modify id generated always as identity restart start with 4;
 
-- load data
-- load data
 
insert into x03_cliente (
    id,
    cliente,
    logo,
    logo_filename,
    logo_mimetype,
    logo_charset,
    logo_lastupd
) values (
    1,
    'CLIENTE_01',
    null,
    'Client Library Upgrade',
    'Ipsumprimis in faucibus orci luctus.',
    'Nulla facilisi. In posuere blandit leoeget malesuada. Vivamus efficitur ipsum tellus, quis posuere mi maximus vitae. Quisque tortor odio, feugiat eget sagittisvel, pretium ut metus. Duis et commodo arcu, in vestibulum tellus. In sollicitudin nisi mi, pharetra gravida ex semper ut.Donec.',
    sysdate - 20
);

insert into x03_cliente (
    id,
    cliente,
    logo,
    logo_filename,
    logo_mimetype,
    logo_charset,
    logo_lastupd
) values (
    2,
    'CLIENTE_02',
    null,
    'Agile Scrum Training',
    'Ac sapien suscipit tristique ac volutpat risus.Phasellus vitae ligula commodo, dictum lorem sit amet, imperdiet ex. Etiam cursus porttitor tincidunt. Vestibulum ante ipsumprimis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin vulputate placerat pellentesque. Proin viverra lacinialectus, quis consectetur mi venenatis nec. Donec convallis sollicitudin elementum. Nulla.',
    'Elit, vestibulum eget rhoncus non,molestie sit amet lectus. Nulla placerat iaculis aliquam. Vestibulum lacinia arcu in massa pharetra, id mattis risus rhoncus.Cras vulputate porttitor ligula. Nam semper diam suscipit elementum sodales. Proin sit amet massa.',
    sysdate - 7
);

insert into x03_cliente (
    id,
    cliente,
    logo,
    logo_filename,
    logo_mimetype,
    logo_charset,
    logo_lastupd
) values (
    3,
    'CLIENTE_03',
    null,
    'Elastic Rightsize Automation',
    'Posuere cubilia Curae; Proin vulputate placerat pellentesque. Proin viverra lacinialectus, quis consectetur mi venenatis nec. Donec convallis sollicitudin elementum. Nulla facilisi. In posuere blandit leoeget malesuada.',
    'Viverra lacinialectus.',
    sysdate - 56
);

commit;

alter table x03_cliente
modify id generated always as identity restart start with 4;
 
-- load data
 
insert into x03_stato (
    id,
    stato,
    stato_class
) values (
    1,
    '10_DA_INIZIARE',
    'U-INFO'
);

insert into x03_stato (
    id,
    stato,
    stato_class
) values (
    2,
    '20_INIZIATO',
    'U-WARNING'
);

insert into x03_stato (
    id,
    stato,
    stato_class
) values (
    3,
    '30_CONCLUSO',
    'U-SUCCESS'
);

insert into x03_stato (
    id,
    stato,
    stato_class
) values (
    4,
    '90_ANNULLATO',
    'U-DANGER'
);

commit;

alter table x03_stato
modify id generated always as identity restart start with 5;
 
-- load data
 
insert into x03_commessa (
    id,
    commessa
) values (
    1,
    'COMM01'
);

insert into x03_commessa (
    id,
    commessa
) values (
    2,
    'COMM02'
);

insert into x03_commessa (
    id,
    commessa
) values (
    3,
    'COMM03'
);

commit;

alter table x03_commessa
modify id generated always as identity restart start with 4;
 
-- load data
 
insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    1,
    1,
    3,
    3,
    1,
    sysdate - 8,
    19
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    2,
    2,
    1,
    2,
    1,
    sysdate - 86,
    5
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    3,
    1,
    3,
    3,
    1,
    sysdate - 35,
    10
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    4,
    2,
    2,
    2,
    4,
    sysdate - 75,
    32
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    5,
    1,
    2,
    2,
    2,
    sysdate - 78,
    2
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    6,
    2,
    2,
    1,
    1,
    sysdate - 99,
    92
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    7,
    3,
    1,
    3,
    3,
    sysdate - 60,
    66
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    8,
    3,
    3,
    1,
    1,
    sysdate - 3,
    73
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    9,
    1,
    1,
    3,
    3,
    sysdate - 77,
    99
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    10,
    2,
    1,
    3,
    3,
    sysdate - 12,
    13
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    11,
    3,
    2,
    2,
    3,
    sysdate - 95,
    30
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    12,
    2,
    2,
    1,
    3,
    sysdate - 45,
    50
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    13,
    3,
    3,
    3,
    4,
    sysdate - 87,
    62
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    14,
    3,
    2,
    3,
    3,
    sysdate - 78,
    75
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    15,
    2,
    1,
    2,
    4,
    sysdate - 1,
    2
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    16,
    1,
    2,
    2,
    1,
    sysdate - 51,
    70
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    17,
    1,
    1,
    2,
    1,
    sysdate - 63,
    40
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    18,
    2,
    2,
    2,
    2,
    sysdate - 40,
    93
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    19,
    1,
    1,
    3,
    1,
    sysdate - 73,
    73
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    20,
    2,
    3,
    3,
    3,
    sysdate - 45,
    28
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    21,
    1,
    3,
    3,
    2,
    sysdate - 8,
    36
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    22,
    1,
    1,
    1,
    1,
    sysdate - 55,
    2
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    23,
    2,
    3,
    1,
    4,
    sysdate - 74,
    3
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    24,
    3,
    2,
    2,
    4,
    sysdate - 75,
    7
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    25,
    3,
    1,
    2,
    4,
    sysdate - 58,
    58
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    26,
    1,
    1,
    3,
    4,
    sysdate - 44,
    36
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    27,
    3,
    2,
    2,
    2,
    sysdate - 20,
    23
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    28,
    2,
    2,
    1,
    2,
    sysdate - 20,
    2
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    29,
    2,
    1,
    3,
    3,
    sysdate - 43,
    33
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    30,
    3,
    1,
    3,
    3,
    sysdate - 77,
    33
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    31,
    2,
    2,
    3,
    2,
    sysdate - 94,
    34
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    32,
    2,
    1,
    1,
    2,
    sysdate - 44,
    26
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    33,
    3,
    2,
    2,
    3,
    sysdate - 49,
    77
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    34,
    1,
    1,
    1,
    4,
    sysdate - 37,
    39
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    35,
    3,
    2,
    2,
    1,
    sysdate - 7,
    62
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    36,
    3,
    1,
    1,
    4,
    sysdate - 84,
    91
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    37,
    2,
    2,
    3,
    4,
    sysdate - 12,
    36
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    38,
    3,
    3,
    2,
    2,
    sysdate - 25,
    36
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    39,
    1,
    1,
    2,
    3,
    sysdate - 18,
    82
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    40,
    3,
    2,
    3,
    2,
    sysdate - 42,
    91
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    41,
    1,
    1,
    1,
    2,
    sysdate - 35,
    18
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    42,
    2,
    3,
    3,
    4,
    sysdate - 36,
    24
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    43,
    3,
    2,
    1,
    2,
    sysdate - 96,
    67
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    44,
    1,
    1,
    1,
    1,
    sysdate - 86,
    68
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    45,
    1,
    3,
    2,
    3,
    sysdate - 6,
    14
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    46,
    1,
    3,
    3,
    2,
    sysdate - 8,
    37
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    47,
    1,
    3,
    1,
    2,
    sysdate - 98,
    91
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    48,
    3,
    1,
    3,
    4,
    sysdate - 40,
    70
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    49,
    3,
    3,
    2,
    3,
    sysdate - 11,
    46
);

insert into x03_attivita (
    id,
    dipendente_id,
    cliente_id,
    commessa_id,
    stato_id,
    data,
    ore
) values (
    50,
    1,
    1,
    3,
    2,
    sysdate - 91,
    64
);

commit;

alter table x03_attivita
modify id generated always as identity restart start with 51;
 
 
-- Generated by Quick SQL Venerdì Dicembre 16, 2022  10:50:34
 
/*
dipendente /insert 3
  dipendente vc50 /nn /values francesca,anna,marco /unique
  tariffa num /nn /values 200,150,100

cliente /insert 3
  cliente vc50 /nn /values cliente_01,cliente_02,cliente_03 /unique
  logo file

stato /insert 4
  stato vc50 /nn /values 10_da_iniziare, 20_iniziato, 30_concluso,90_annullato /unique
  stato_class vc50 /values u-info,u-warning,u-success,u-danger

commessa /insert 3
  commessa vc30 /values comm01,comm02,comm03 /unique

attivita /insert 50
  dipendente_id /nn
  cliente_id /nn
  commessa_id /nn
  stato_id /nn
  data d /nn
  ore num /nn
#ondelete:restrict
#drop:true

# settings = { prefix: "X03", onDelete: "RESTRICT", semantics: "CHAR", drop: true, language: "EN", APEX: true }
*/

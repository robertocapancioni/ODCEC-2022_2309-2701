-- create tables
create table d154_azienda (
    id                             number generated by default on null as identity 
                                   constraint d154_azienda_id_pk primary key,
    ragione_sociale                varchar2(50 char) not null,
    partita_iva                    varchar2(11 char) not null,
    codice_fiscale                 varchar2(16 char) not null,
    indirizzo                      varchar2(100 char),
    cap                            varchar2(5 char),
    citta                          varchar2(50 char),
    provincia                      varchar2(2 char),
    telefono                       varchar2(50 char),
    email                          varchar2(50 char)
)
;

create table d154_contatto (
    id                             number generated by default on null as identity 
                                   constraint d154_contatto_id_pk primary key,
    nome                           varchar2(50 char) not null,
    cognome                        varchar2(50 char) not null,
    telefono                       varchar2(50 char) not null,
    email                          varchar2(255 char) not null,
    ruolo                          varchar2(255 char)
)
;

create table d154_azienda_contatto (
    id                             number generated by default on null as identity 
                                   constraint d154_azienda_conta_id_pk primary key,
    azienda_id                     number
                                   constraint d154_azienda_co_azienda_id_fk
                                   references d154_azienda not null,
    contatto_id                    number
                                   constraint d154_azienda_co_contatto_id_fk
                                   references d154_contatto not null
)
;

-- table index
create index d154_azienda_conta_i1 on d154_azienda_contatto (azienda_id);
create index d154_azienda_conta_i62 on d154_azienda_contatto (contatto_id);

-- load data
 
-- Generated by Quick SQL Domenica Novembre 20, 2022  21:38:52
 
/*
azienda
  ragione_sociale vc50 /nn
  partita_iva vc11 /nn
  codice_fiscale vc16 /nn
  indirizzo vc100
  cap vc5
  citta vc50
  provincia vc2
  telefono vc50
  email vc50

contatto
  nome vc50 /nn
  cognome vc50 /nn
  telefono vc50 /nn
  email /nn
  ruolo vc255

azienda_contatto
  azienda_id /nn
  contatto_id /nn
  
#ondelete: restrict

# settings = { prefix: "D154", onDelete: "RESTRICT", semantics: "CHAR", language: "EN", APEX: true }
*/
